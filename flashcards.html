<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<title>Latin Flashcards</title>
		
		<script type="text/javascript">
		<!--
			var cards = [
				["porta, -ae (f) -> Sg. Nom.", "porta", 0, 0],
				["porta, -ae (f) -> Sg. Gen.", "portae", 0, 0],
				["porta, -ae (f) -> Sg. Dat.", "portae", 0, 0],
				["porta, -ae (f) -> Sg. Acc.", "portam", 0, 0],
				["porta, -ae (f) -> Sg. Abl.", "portā", 0, 0],
				["porta, -ae (f) -> Pl. Nom.", "portae", 0, 0],
				["porta, -ae (f) -> Pl. Gen.", "portārum", 0, 0],
				["porta, -ae (f) -> Pl. Dat.", "portīs", 0, 0],
				["porta, -ae (f) -> Pl. Acc.", "portās", 0, 0],
				["porta, -ae (f) -> Pl. Abl.", "portīs", 0, 0]
			];
			
			var sequence = new Array();
			
			var currentCard = 0;
			var pos = 0;
		
			function generateRandomSequence(size) {
				var sequence = new Array();
				var i = size;
				var j;
				while(i>0) {
					j = Math.floor(Math.random()*size);
					if(!isValueInSequence(j, sequence)) {
						sequence.push(j);
						i--;
					}
				}
				return sequence;
			}
			
			function isValueInSequence(theory, sequence) {
				var i;
				for(i=0; i<sequence.length; i++) {
					if(sequence[i]==theory) {
						return true;
					}
				}
				return false;
			}
			
			function init() {
				pos = 0;
				sequence = generateRandomSequence(cards.length);
			}
			
			
			function go() {
				pos++;
				
				if(pos>=sequence.length) {
					init();
				}
				
				currentCard = sequence[pos];
				document.getElementById('question').innerHTML = cards[currentCard][0];
				document.getElementById('feedback').innerHTML = "";
				document.getElementById('answer').value = "";
				document.getElementById('status').innerHTML = (pos+1) + " of " + sequence.length;
				document.getElementById('answer').focus();
			}

			function handleKeyPress(e) {
				if(e.keyCode == 13) {
					checkAnswer();
					return false;
				} else {
					return true;
				}
			}
			
			function checkAnswer() {
				var userAnswer = document.getElementById('answer').value;
				if(userAnswer == cards[currentCard][1]) {
					document.getElementById('feedback').innerHTML = "Correct!";
					document.getElementById('next').focus();
				} else {
					document.getElementById('feedback').innerHTML = "Incorrect.";
					document.getElementById('answer').focus();
					document.getElementById('answer').select();
				}
			}
			
			function insertChar(character) {
				document.getElementById('answer').value += character;
				document.getElementById('answer').focus();
			}
		-->
		</script>
		<style type="text/css">
			div {
				text-align: center;
				margin: 0 auto;
			}

			#question {
				background-color: #ffff99;
				width: 400px;
				height: 50px;
				padding: 20px;
				text-align: center;
			}
			
			#feedback {
				background-color: #ff99ff;
				width: 400px;
				height: 50px;
				padding: 20px;
				text-align: center;
			}
		</style>
	</head>

	<body onload="go();">
	
		<h1>Latin Declensions</h1>

		<div>
		
		<div id="question"></div>
		
		<div>
			<input id="answer" onkeypress="return handleKeyPress(event);"/>
			<input type="button" id="go" value="Go" onclick="checkAnswer();"/>
			<input type="button" id="next" value="Next" onclick="go();"/>
		</div>
		
		<div id="feedback"></div>

		<div>
			<input type="button" accesskey="a" value="ā" onclick="insertChar('ā')" />
			<input type="button" accesskey="e" value="ē" onclick="insertChar('ē')" />
			<input type="button" accesskey="i" value="ī" onclick="insertChar('ī')" />
			<input type="button" accesskey="o" value="ō" onclick="insertChar('ō')" />
			<input type="button" accesskey="u" value="ū" onclick="insertChar('ū')" />
		</div>

		<div id="status"></div>

		<div style="width: 600px"><p>Example: if the question is "porta, -ae -> Sg. Acc.", you are being asked to enter the Singular Accusative case of the word with the dictionary entry "porta, -ae". So you would enter "portae" as the answer. To insert vowels with macrons, use the buttons on the screen. These buttons all have access keys with the corresponding vowels... for example Alt-a should enter ā.</p></div>

		</div>
	</body>
	

</html>
